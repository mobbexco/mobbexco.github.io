<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Marketplace, Split, Cobro con Comisión · Mobbex {DEV}</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Modalidades"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Marketplace, Split, Cobro con Comisión · Mobbex {DEV}"/><meta property="og:type" content="website"/><meta property="og:url" content="https://mobbex.dev/"/><meta property="og:description" content="## Modalidades"/><meta property="og:image" content="https://mobbex.dev/img/mobbex.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://mobbex.dev/img/mobbex.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/mobbex.png" alt="Mobbex {DEV}"/><h2 class="headerTitleWithLogo">Mobbex {DEV}</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/getting-started" target="_self">Docs</a></li><li class=""><a href="/help" target="_self">Ayuda</a></li><li class=""><a href="https://collectednotes.com/mobbex" target="_self">Blog</a></li><li class=""><a href="https://mobbex.com/console" target="_self">Consola</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Mobbex Avanzado</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Primeros Pasos</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/getting-started">Primeros Pasos</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Módulos</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/checkout">Checkout</a></li><li class="navListItem"><a class="navItem" href="/docs/payment_orders">Ordenes de Pago</a></li><li class="navListItem"><a class="navItem" href="/docs/subscriptions">Suscripciones</a></li><li class="navListItem"><a class="navItem" href="/docs/payment_methods">Métodos de Pago y Cuotas</a></li><li class="navListItem"><a class="navItem" href="/docs/payment_codes">Códigos de Barra o Insertados</a></li><li class="navListItem"><a class="navItem" href="/docs/loyalty">Fidelización</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Connect</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/dev_connect">Dev Connect</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Transacciones</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/transactions">Consulta, Devolución, Código QR de Transacción</a></li><li class="navListItem"><a class="navItem" href="/docs/webhooks">Webhooks</a></li><li class="navListItem"><a class="navItem" href="/docs/statuses">Códigos de Estado y Tipos de Medio de Pago</a></li><li class="navListItem"><a class="navItem" href="/docs/order_status">Códigos de Estado por Estado de Orden</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Mobbex Avanzado</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/split">Marketplace, Split, Cobro con Comisión</a></li><li class="navListItem"><a class="navItem" href="/docs/advanced">Integración Embebida (Avanzada)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Ecommerce, Módulos y Librerias</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ecommerce">E-Commerce</a></li><li class="navListItem"><a class="navItem" href="/docs/libraries">Librerias</a></li><li class="navListItem"><a class="navItem" href="/docs/client">Cliente Desktop</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">SDKs</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/nodejssdk">NodeJS</a></li><li class="navListItem"><a class="navItem" href="/docs/phpsdk">PHP</a></li><li class="navListItem"><a class="navItem" href="/docs/windowssdk">Webhooks</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Otros</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/testcards">Tarjetas de Prueba</a></li><li class="navListItem"><a class="navItem" href="/docs/currency">Conversión de Monedas</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Marketplace, Split, Cobro con Comisión</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="modalidades"></a><a href="#modalidades" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Modalidades</h2>
<ul>
<li>Split: la operatoria Split sólo se llevará a cabo entre comercios de tipo Ready.</li>
<li>Distribuido: la operatoria DSistribuida se da en los casos donde todos los comercios involucrados son de tipo Direct. Este tipo de operatoria se da a nivel Marca y la complejidad es mayor a la encontrada en Split.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="importante"></a><a href="#importante" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Importante</h2>
<p>Todos los comercios entre los cuales se planea dividir una operación deben existir en Mobbex ya sean Ready o Direct. Esto se debe a que la operación debe ser trazable en todo momento y el comercio involucrado debe ser capaz de realizar las acciones necesarias sobre los fondos que le son atribuídos.</p>
<p>Para conectar comercios a Mobbex generando el alta si los mismos no existen ver <a href="https://mobbex.dev/docs/dev_connect">Mobbex Connect</a></p>
<h2><a class="anchor" aria-hidden="true" id="módulos"></a><a href="#módulos" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Módulos:</h2>
<ul>
<li><a href="https://mobbex.dev/docs/checkout">Checkout</a></li>
<li><a href="https://mobbex.dev/docs/subscriptions">Suscripciones</a></li>
<li><a href="https://mobbex.dev/docs/payment_orders">Órdenes de Pago</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="parámetro-split"></a><a href="#parámetro-split" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parámetro &quot;split&quot;</h2>
<p>El parámetro Split debería ser un Array de Elementos ( Hasta 100 ) que contendrá los Comercios entre las cuales se dividirá el pago total solicitado.</p>
<ul>
<li><code>tax_id</code>: Identificación tributaria de la Empresa a la cual va dirigido el pago.</li>
<li><code>total</code>: Monto total a ser pagado a la Empresa a la cual va dirigido el pago.</li>
<li><code>fee</code>: Monto de la comisión que cobrará el creador del pago. El receptor de la comisión será la Empresa que genera la operación.</li>
<li><code>hold</code>: Indica si el dinero correspondiente a la parte dividida será retenido. Tenga en cuenta que un pago retenido deberá ser liberado via API. Valores: true/false</li>
<li><code>description</code>: Descripción de la operación hija.</li>
<li><code>reference</code>: Identificación del cupón de la Operación.</li>
</ul>
<p><strong>Importante</strong>:</p>
<ul>
<li>Al crear una operación con Split se validará que el monto separado entre las diferentes entidades coincida con el monto solicitado en el Checkout. Ej. Si solicita generar un cobro por $ 1000 e intenta separar el Pago entre la Empresa A por $ 600 y la Empresa B por $ 100 el mismo no podrá ser generado y resultará en un error debido a que el total de la división es $ 700 en vez de los $ 1000 solicitados.</li>
<li>Recuerde que el fee será transferido a la empresa creadora del cobro mediante Checkout.</li>
<li>Todos los montos expresados son totales y no porcentajes.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="creación-de-checkout-con-split"></a><a href="#creación-de-checkout-con-split" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creación de Checkout con Split</h3>
<p>Cuando se crea un Checkout con Split se debe enviar un Array adicional con los elementos antes mencionados usando JSON en el Body de la solicitud al servicio.</p>
<pre><code class="hljs css language-json">{
    <span class="hljs-attr">"total"</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">"currency"</span>: <span class="hljs-string">"ars"</span>,
    <span class="hljs-attr">"reference"</span>: <span class="hljs-string">"12345"</span>,
    <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Descripción de la Venta"</span>,
    <span class="hljs-attr">"return_url"</span>: <span class="hljs-string">"https://mobbex.com/sale/return?session=56789"</span>,
    <span class="hljs-attr">"webhook"</span>: <span class="hljs-string">"https://mobbex.com/sale/webhook?user=1234"</span>,
    <span class="hljs-attr">"split"</span>: [
        {
            <span class="hljs-attr">"tax_id"</span>: <span class="hljs-string">"30121231235"</span>,
            <span class="hljs-attr">"total"</span>: <span class="hljs-number">799</span>,
            <span class="hljs-attr">"reference"</span>: <span class="hljs-string">"pago_1"</span>,
            <span class="hljs-attr">"fee"</span>: <span class="hljs-number">100</span>
        },
        {
            <span class="hljs-attr">"tax_id"</span>: <span class="hljs-string">"33213213216"</span>,
            <span class="hljs-attr">"total"</span>: <span class="hljs-number">201</span>,
            <span class="hljs-attr">"reference"</span>: <span class="hljs-string">"pago_2"</span>,
            <span class="hljs-attr">"fee"</span>: <span class="hljs-number">80</span>
        }
    ]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="respuesta"></a><a href="#respuesta" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Respuesta</h3>
<p>En la respuesta Mobbex pre-generará los identificadores de transacción de las transacciones hijas de la operación distribuida. Deberá almacenar estos UID de forma segura. Además si está generando una retención de dinero durante la operación estos UID le permitirán generar la liberación de fondos.</p>
<pre><code class="hljs css language-json">{
    ...
    "split": [
        {
      "uid": "CHD-EFPI58C4PFMG4GQX8X",
            "total": 799,
            "reference": "pago_1",
            "fee": 100
        },
        {
      "uid": "CHD-EFPI58C4PFMG4GQX8X",
            "tax_id": "33213213216",
            "total": 201,
            "reference": "pago_2",
            "fee": 80
        }
    ]
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="liberación-de-fondos"></a><a href="#liberación-de-fondos" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Liberación de Fondos</h2>
<p>Mediante este llamado a nuestro API podrás procesar la liberación de los fondos retenidos durante una operación de tipo Split.</p>
<blockquote>
<p>GET: <code>https://api.mobbex.com/p/operations/{ID}/release</code></p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="parametros-get"></a><a href="#parametros-get" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parametros (GET)</h4>
<p><strong>Requeridos</strong></p>
<ul>
<li><code>ID</code>: ID de la Operación que se intenta liberar.</li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/order_status"><span class="arrow-prev">← </span><span>Códigos de Estado por Estado de Orden</span></a><a class="docs-next button" href="/docs/advanced"><span>Integración Embebida (Avanzada)</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#modalidades">Modalidades</a></li><li><a href="#importante">Importante</a></li><li><a href="#módulos">Módulos:</a></li><li><a href="#parámetro-split">Parámetro &quot;split&quot;</a><ul class="toc-headings"><li><a href="#creación-de-checkout-con-split">Creación de Checkout con Split</a></li><li><a href="#respuesta">Respuesta</a></li></ul></li><li><a href="#liberación-de-fondos">Liberación de Fondos</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/mobbex.png" alt="Mobbex {DEV}" width="58" height="52"/></a><div><h5>Documentación</h5><a href="/docs/getting-started">Comenzá ahora</a><a href="/docs/checkout">Checkout</a><a href="/docs/payment_orders">Ordenes de Pago</a><a href="/docs/mobbex_button">Botón Mobbex</a><a href="/docs/ecommerce">Plugins para Ecommerce</a></div><div><h5>Sobre Mobbex</h5><a href="https://mobbex.com/console" target="_blank" rel="noreferrer noopener">Usuarios y Registro</a><a href="https://www.mobbex.com/comoseusa/" target="_blank" rel="noreferrer noopener">Cómo se usa?</a><a href="https://www.mobbex.com/contactanos/" target="_blank" rel="noreferrer noopener">Contactanos</a><a href="https://twitter.com/mobbex" target="_blank" rel="noreferrer noopener">Encontranos en Twitter</a></div><div><h5>Más</h5><a href="/blog">Blog</a><a href="https://github.com/mobbexco">GitHub</a></div></section><a href="https://www.mobbex.com" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Mobbex Argentina SRL</section></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>